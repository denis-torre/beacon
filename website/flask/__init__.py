#################################################################
#################################################################
############### Datasets2Tools Website Backend ##################
#################################################################
#################################################################
##### Author: Denis Torre
##### Affiliation: Ma'ayan Laboratory,
##### Icahn School of Medicine at Mount Sinai

#################################################################
#################################################################
############### 1. App Configuration ############################
#################################################################
#################################################################

#############################################
########## 1. Load libraries
#############################################
##### 1. Flask modules #####
from flask import Flask, render_template, url_for

##### 2. Python modules #####
import pandas as pd
import os, json, random, sys

#############################################
########## 2. App Setup
#############################################
##### 1. Flask App #####
entry_point = '/beacon'
app = Flask(__name__, static_url_path=os.path.join(entry_point, 'static'))

##### 2. Database connection #####
	
#############################################
########## 3. General Setup
#############################################
##### 1. Variables #####

#################################################################
#################################################################
############### 1. App Configuration ############################
#################################################################
#################################################################

#######################################################
#######################################################
########## 1. Templates
#######################################################
#######################################################

#############################################
########## 1. Homepage
#############################################

@app.route(entry_point)
def index():
	dataframe = pd.read_table('static/datasets.txt')#url_for('static', filename='datasets.txt'))
	print(dataframe)
	return render_template('index.html', dataframe=False)


#######################################################
#######################################################
########## 3. Run App
#######################################################
#######################################################

#############################################
########## 1. Run
#############################################
if __name__ == "__main__":
	app.run(debug=True, host='0.0.0.0')